-- ----------------------------------------------------------------------------------------------------
-- PROCEDURES 
-- ----------------------------------------------------------------------------------------------------

-- --------------------------------------------------
-- TESTE ANIVERSARIANTE
-- --------------------------------------------------
CALL SP_ANIVERSARIANTES_MES(MONTH(CURRENT_DATE()));

-- --------------------------------------------------
-- TESTE INCLUSÃO VENDA
-- --------------------------------------------------

-- INCLUSÃO DE INTENS NO CARRINHO
CALL SP_CARRINHO (1, 5, 99.90);
CALL SP_CARRINHO (2, 3,99.90);
CALL SP_CARRINHO (3, 1,149.90);
SELECT * FROM TEMP_CARRINHO;

-- INCLUSÃO DA VENDA NA TABELA PLAYDB.VENDAS
CALL SP_ADD_VENDA (5, 1, 1, 10, 3);


-- --------------------------------------------------
-- TESTE INCLUSÃO COMPRA
-- --------------------------------------------------

-- INCLUSÃO DE INTENS NO PEDIDO DE COMPRA
CALL SP_PEDIDO (1, 5, 50.90);
CALL SP_PEDIDO (2, 3,50.90);
CALL SP_PEDIDO (3, 1,115.90);
SELECT * FROM TEMP_PEDIDO;

-- INCLUSÃO DA VENDA NA TABELA PLAYDB.COMPRAS
CALL SP_ADD_COMPRA (3, 10, 1);

-- ----------------------------------------------------------------------------------------------------
-- VIEWS ----------------------------------------------------------------------------------------------
-- ----------------------------------------------------------------------------------------------------

-- --------------------------------------------------
-- VIEW RESUMO DE VENDAS
-- --------------------------------------------------
SELECT * FROM VW_RESUMO_VENDAS;

-- --------------------------------------------------
-- VIEW RESUMO DE COMPRAS
-- --------------------------------------------------
SELECT * FROM VW_RESUMO_COMPRAS;

-- --------------------------------------------------
-- VIEW RESUMO DOS PRODUTOS
-- --------------------------------------------------
SELECT * FROM VW_RESUMO_PRODUTOS;

-- --------------------------------------------------
-- VIEW CLIENTE FIEL (RANQUEADO POR VALOR)
-- --------------------------------------------------
SELECT * FROM VW_CLIENTE_FIEL;